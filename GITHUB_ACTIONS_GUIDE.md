# –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub Actions –¥–ª—è —Å–±–æ—Ä–∫–∏ APK

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [github.com](https://github.com)
2. –ù–∞–∂–º–∏—Ç–µ "New repository"
3. –ù–∞–∑–≤–∞–Ω–∏–µ: `intercom-demo` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)
4. –í—ã–±–µ—Ä–∏—Ç–µ Public –∏–ª–∏ Private
5. **–ù–ï** –¥–æ–±–∞–≤–ª—è–π—Ç–µ README, .gitignore, license (—É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å)
6. –ù–∞–∂–º–∏—Ç–µ "Create repository"

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–¥ –Ω–∞ GitHub

```bash
cd "/home/bbybxx/work/dom demo/intercom_demo"

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å git (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
git init

# –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã
git add .

# –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–∏—Ç
git commit -m "Initial commit: Smart Intercom Demo"

# –î–æ–±–∞–≤–∏—Ç—å remote (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_USERNAME –Ω–∞ –≤–∞—à GitHub username)
git remote add origin https://github.com/YOUR_USERNAME/intercom-demo.git

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ GitHub
git branch -M main
git push -u origin main
```

### –®–∞–≥ 3: –î–æ–∂–¥–∞—Ç—å—Å—è —Å–±–æ—Ä–∫–∏

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ GitHub –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "Actions"
3. –í—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π workflow "Build Flutter APK"
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (~5-10 –º–∏–Ω—É—Ç)

### –®–∞–≥ 4: –°–∫–∞—á–∞—Ç—å APK

1. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏, –æ—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π workflow
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Å–µ–∫—Ü–∏–∏ "Artifacts"
3. –°–∫–∞—á–∞–π—Ç–µ `app-release-apk`
4. –†–∞—Å–ø–∞–∫—É–π—Ç–µ ZIP - –≤–Ω—É—Ç—Ä–∏ –±—É–¥–µ—Ç `app-release.apk`

---

## üì± –£—Å—Ç–∞–Ω–æ–≤–∫–∞ APK –Ω–∞ Android

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ USB

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É
# –í–∫–ª—é—á–∏—Ç–µ "–û—Ç–ª–∞–¥–∫–∞ –ø–æ USB" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

adb install app-release.apk
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ APK –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ APK
4. –†–∞–∑—Ä–µ—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞

GitHub Actions –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å APK –ø—Ä–∏:
- ‚úÖ Push –≤ –≤–µ—Ç–∫—É `main` –∏–ª–∏ `master`
- ‚úÖ Pull Request
- ‚úÖ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–∫–Ω–æ–ø–∫–∞ "Run workflow")

---

## üéØ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Actions" –Ω–∞ GitHub
2. –í—ã–±–µ—Ä–∏—Ç–µ "Build Flutter APK"
3. –ù–∞–∂–º–∏—Ç–µ "Run workflow"
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É (–æ–±—ã—á–Ω–æ `main`)
5. –ù–∞–∂–º–∏—Ç–µ –∑–µ–ª–µ–Ω—É—é –∫–Ω–æ–ø–∫—É "Run workflow"

---

## üìä –ß—Ç–æ –¥–µ–ª–∞–µ—Ç workflow

1. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Java 17
2. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Flutter 3.24.5
3. ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`flutter pub get`)
4. ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
5. ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç release APK
6. ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç APK –∫–∞–∫ artifact (—Ö—Ä–∞–Ω–∏—Ç—Å—è 30 –¥–Ω–µ–π)

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é Flutter

–í —Ñ–∞–π–ª–µ `.github/workflows/build.yml`:

```yaml
- name: Setup Flutter
  uses: subosito/flutter-action@v2
  with:
    flutter-version: '3.24.5'  # –ò–∑–º–µ–Ω–∏—Ç–µ –∑–¥–µ—Å—å
```

### –°–æ–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü workflow:

```yaml
- name: Build APK (debug)
  run: flutter build apk --debug

- name: Upload debug APK
  uses: actions/upload-artifact@v4
  with:
    name: app-debug-apk
    path: build/app/outputs/flutter-apk/app-debug.apk
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–ª–∏–∑

–î–æ–±–∞–≤—å—Ç–µ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ APK:

```yaml
- name: Create Release
  if: startsWith(github.ref, 'refs/tags/')
  uses: softprops/action-gh-release@v1
  with:
    files: build/app/outputs/flutter-apk/app-release.apk
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞ (`git tag v1.0.0 && git push --tags`) –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Ä–µ–ª–∏–∑ —Å APK.

---

## ‚ùì Troubleshooting

### –û—à–∏–±–∫–∞: "No such file or directory"

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ GitHub:
```bash
git add .
git commit -m "Add missing files"
git push
```

### –û—à–∏–±–∫–∞: "Gradle build failed"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `android/app/build.gradle` - –≤–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏–∏.

### Workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.github/workflows/build.yml`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å YAML (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ yamllint.com)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Actions –≤–∫–ª—é—á–µ–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

---

## üí° –°–æ–≤–µ—Ç—ã

1. **–ü–µ—Ä–≤–∞—è —Å–±–æ—Ä–∫–∞ –∑–∞–π–º–µ—Ç ~5-10 –º–∏–Ω—É—Ç** (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ Flutter, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
2. **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–±–æ—Ä–∫–∏ ~3-5 –º–∏–Ω—É—Ç** (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
3. **APK —Ö—Ä–∞–Ω–∏—Ç—Å—è 30 –¥–Ω–µ–π** - —Å–∫–∞—á–∞–π—Ç–µ –≤–æ–≤—Ä–µ–º—è
4. **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ**: 2000 –º–∏–Ω—É—Ç/–º–µ—Å—è—Ü –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
5. **Private —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**: 500 –º–∏–Ω—É—Ç/–º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ

---

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: GitLab CI

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ GitLab, —Å–æ–∑–¥–∞–π—Ç–µ `.gitlab-ci.yml`:

```yaml
image: cirrusci/flutter:stable

stages:
  - build

build_apk:
  stage: build
  script:
    - flutter pub get
    - flutter build apk --release
  artifacts:
    paths:
      - build/app/outputs/flutter-apk/app-release.apk
    expire_in: 30 days
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub Actions:
1. ‚úÖ –ö–æ–¥ –Ω–∞ GitHub
2. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ APK
3. ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ APK
4. ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –Ω–∞ GitHub –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å–±–æ—Ä–∫–∏!
